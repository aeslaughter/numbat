<!DOCTYPE html><html><head><meta charset="UTF-8"><link media="screen,projection" href="../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet"></link><link href="../../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../css/moose.css" type="text/css" rel="stylesheet"></link><script src="../../../contrib/jquery/jquery.min.js" type="text/javascript"></script><script src="../../../contrib/materialize/materialize.min.js" type="text/javascript"></script><script src="../../../contrib/clipboard/clipboard.min.js" type="text/javascript"></script><script src="../../../contrib/prism/prism.min.js" type="text/javascript"></script><script src="../../../contrib/katex/katex.min.js" type="text/javascript"></script><script src="../../../contrib/fuse/fuse.min.js" type="text/javascript"></script><script src="../../../js/search_index.js" type="text/javascript"></script><script src="../../../js/init.js" type="text/javascript"></script><title>SolutionUserObject|Numbat</title></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://github.com/cpgr/numbat" class="right"><img src="../../../media/github-logo.png" class="github-mark"></img><img src="../../../media/github-mark.png" class="github-logo"></img></a><a href="http://cpgr.github.io/numbat/" class="left moose-logo">Numbat</a><ul class="right hide-on-med-and-down" id="nav-mobile"><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="8f70a06c-d242-46dd-a3d6-eaa82f6e2f5a">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="3d94079a-7fef-4dd5-ba91-27ee9c0b5718">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="c0488744-479e-4b61-bcab-8cb47827f616">Details<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="ea3c3e26-5ac5-4369-a9f9-68e8a42e091e">Examples<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="753962ca-2223-4108-a8d0-38eb9ecfbb9e">Manual<i class="material-icons right">arrow_drop_down</i></a></li></ul><ul class="dropdown-content" id="8f70a06c-d242-46dd-a3d6-eaa82f6e2f5a"><li><a href="../../../getting_started.html">Installation</a></li></ul><ul class="dropdown-content" id="3d94079a-7fef-4dd5-ba91-27ee9c0b5718"><li><a href="../../../introduction.html">Introduction</a></li><li><a href="../../../governing_equations.html">Governing equations</a></li></ul><ul class="dropdown-content" id="c0488744-479e-4b61-bcab-8cb47827f616"><li><a href="../../../implementation.html">Implementation</a></li><li><a href="../../../input_file_syntax.html">Input file syntax</a></li><li><a href="../../../running_numbat.html">Running Numbat</a></li><li><a href="../../../systems.html">Available objects</a></li></ul><ul class="dropdown-content" id="ea3c3e26-5ac5-4369-a9f9-68e8a42e091e"><li><a href="../../../example2D.html">2D</a></li><li><a href="../../../example3D.html">3D</a></li></ul><ul class="dropdown-content" id="753962ca-2223-4108-a8d0-38eb9ecfbb9e"><li><a href="../../../download.html">User manual</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input autocomplete="off" onkeyup="mooseSearch()" type="text" id="moose-search-box"><label for="search">http://cpgr.github.io/numbat/</label></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-action modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">documentation</span><a href=".." class="breadcrumb">systems</a><a href="." class="breadcrumb">UserObjects</a><a href="SolutionUserObject.html" class="breadcrumb">SolutionUserObject</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section data-section-text="SolutionUserObject" data-section-level="1" id="473bff69-d975-4e01-9b58-243f2d4e2a30"><h1>SolutionUserObject</h1><p>Reads a variable from a mesh in one simulation to another</p><section class="section scrollspy" data-section-text="Description" data-section-level="2" id="79bc3814-6927-40e5-9dee-6dcdc69f948f"><h2>Description</h2><p>A solution user object reads a variable from a mesh in one simulation to another. In order to use a <code>SolutionUserObject</code> three additional parameters are required, an <a data-position="top" href="../AuxVariables/index.html" class="tooltipped" data-tooltip="../AuxVariables/index.html">AuxVariable</a> , a <a data-position="top" href="../Functions/index.html" class="tooltipped" data-tooltip="../Functions/index.html">Function</a> and an <a data-position="top" href="../AuxKernels/index.html" class="tooltipped" data-tooltip="../AuxKernels/index.html">AuxKernel</a>. The <code>AuxVariable</code> represents the variable to be read by the solution user object. The <code>SolutionUserObject</code> is set up to read the old output file. A <code>SolutionFunction</code> is required to interpolate in time and space the data from the <code>SolutionUserObject</code>. Finally, the <code>Function</code> is required that will query the function and write the value into the <code>AuxVariable</code>.</p></section><section class="section scrollspy" data-section-text="Example   Input   Syntax" data-section-level="2" id="3018ba84-c840-425d-8db8-b4df054648e8"><h2>Example Input Syntax</h2><div class="card"><div class="card-content"><pre style="max-height:350px;"><code class="language-text">
[UserObjects]
  [./soln]
    type = SolutionUserObject
    mesh = cubesource.e
    system_variables = source_nodal
  [../]
[]</code></pre><a data-position="top" href="#38617ddd-c2a7-4017-98f3-2dea38c8039f" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/test/tests/auxkernels/solution_aux/solution_aux_exodus_interp.i">(../moose/test/tests/auxkernels/solution_aux/solution_aux_exodus_interp.i)</a></div></div></section><section class="section scrollspy" data-section-text="Input   Parameters" data-section-level="2" id="cd498d7d-7271-41fb-bc38-26d3f8b00889"><h2>Input Parameters</h2><section data-details-open="open" data-section-text="Required Parameters" data-section-level="3" id="10d0f7aa-10c3-402b-83e8-32eac92f7933"><details open="open" class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">mesh</span><span class="moose-parameter-header-description">The name of the mesh file (must be xda or exodusII file).</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshFileName</p><p class="moose-parameter-description"><span>Description:</span>The name of the mesh file (must be xda or exodusII file).</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section data-details-open="open" data-section-text="Optional Parameters" data-section-level="3" id="3dfd11be-5706-4ebf-95c7-781fad8d8a7a"><details open="open" class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">scale</span><span class="moose-parameter-header-default">1 1 1 </span><span class="moose-parameter-header-description">Scale factor for points in the simulation</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1 1 1 </p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<double></p><p class="moose-parameter-description"><span>Description:</span>Scale factor for points in the simulation</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">scale_multiplier</span><span class="moose-parameter-header-default">1 1 1 </span><span class="moose-parameter-header-description">Scale multiplying factor for points in the simulation</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1 1 1 </p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<double></p><p class="moose-parameter-description"><span>Description:</span>Scale multiplying factor for points in the simulation</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">rotation1_vector</span><span class="moose-parameter-header-default">0 0 1</span><span class="moose-parameter-header-description">Vector about which to rotate points of the simulation.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0 0 1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>libMesh::VectorValue<double></p><p class="moose-parameter-description"><span>Description:</span>Vector about which to rotate points of the simulation.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">rotation1_angle</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Anticlockwise rotation angle (in degrees) to use for rotation about rotation1_vector.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Anticlockwise rotation angle (in degrees) to use for rotation about rotation1_vector.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">timestep</span><span class="moose-parameter-header-description">Index of the single timestep used or "LATEST" for the last timestep (exodusII only).  If not supplied, time interpolation will occur.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description"><span>Description:</span>Index of the single timestep used or "LATEST" for the last timestep (exodusII only).  If not supplied, time interpolation will occur.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">transformation_order</span><span class="moose-parameter-header-default">translation scale</span><span class="moose-parameter-header-description">The order to perform the operations in.  Define R0 to be the rotation matrix encoded by rotation0_vector and rotation0_angle.  Similarly for R1.  Denote the scale by s, the scale_multiplier by m, and the translation by t.  Then, given a point x in the simulation, if transformation_order = 'rotation0 scale_multiplier translation scale rotation1' then form p = R1*(R0*x*m - t)/s.  Then the values provided by the SolutionUserObject at point x in the simulation are the variable values at point p in the mesh.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>translation scale</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description"><span>Description:</span>The order to perform the operations in.  Define R0 to be the rotation matrix encoded by rotation0_vector and rotation0_angle.  Similarly for R1.  Denote the scale by s, the scale_multiplier by m, and the translation by t.  Then, given a point x in the simulation, if transformation_order = 'rotation0 scale_multiplier translation scale rotation1' then form p = R1*(R0*x*m - t)/s.  Then the values provided by the SolutionUserObject at point x in the simulation are the variable values at point p in the mesh.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">system</span><span class="moose-parameter-header-default">nl0</span><span class="moose-parameter-header-description">The name of the system to pull values out of (xda only).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>nl0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description"><span>Description:</span>The name of the system to pull values out of (xda only).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">system_variables</span><span class="moose-parameter-header-description">The name of the nodal and elemental variables from the file you want to use for values</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description"><span>Description:</span>The name of the nodal and elemental variables from the file you want to use for values</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">rotation0_angle</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Anticlockwise rotation angle (in degrees) to use for rotation about rotation0_vector.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Anticlockwise rotation angle (in degrees) to use for rotation about rotation0_vector.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">execute_on</span><span class="moose-parameter-header-default">TIMESTEP_END</span><span class="moose-parameter-header-description">The list of flag(s) indicating when this object should be executed, the available options include NONE, INITIAL, LINEAR, NONLINEAR, TIMESTEP_END, TIMESTEP_BEGIN, FINAL, CUSTOM.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>TIMESTEP_END</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>ExecFlagEnum</p><p class="moose-parameter-description"><span>Description:</span>The list of flag(s) indicating when this object should be executed, the available options include NONE, INITIAL, LINEAR, NONLINEAR, TIMESTEP_END, TIMESTEP_BEGIN, FINAL, CUSTOM.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">translation</span><span class="moose-parameter-header-default">0 0 0 </span><span class="moose-parameter-header-description">Translation factors for x,y,z coordinates of the simulation</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0 0 0 </p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<double></p><p class="moose-parameter-description"><span>Description:</span>Translation factors for x,y,z coordinates of the simulation</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">rotation0_vector</span><span class="moose-parameter-header-default">0 0 1</span><span class="moose-parameter-header-description">Vector about which to rotate points of the simulation.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0 0 1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>libMesh::VectorValue<double></p><p class="moose-parameter-description"><span>Description:</span>Vector about which to rotate points of the simulation.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">es</span><span class="moose-parameter-header-default"><not supplied></span><span class="moose-parameter-header-description">The name of the file holding the equation system info in xda format (xda only).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span><not supplied></p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>FileName</p><p class="moose-parameter-description"><span>Description:</span>The name of the file holding the equation system info in xda format (xda only).</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section data-details-open="close" data-section-text="Advanced Parameters" data-section-level="3" id="41057c10-65fc-4e04-b740-3e19395607d8"><details class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">allow_duplicate_execution_on_initial</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">In the case where this UserObject is depended upon by an initial condition, allow it to be executed twice during the initial setup (once before the IC and again after mesh adaptivity (if applicable).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>In the case where this UserObject is depended upon by an initial condition, allow it to be executed twice during the initial setup (once before the IC and again after mesh adaptivity (if applicable).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_displaced_mesh</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not this object should use the displaced mesh for computation.  Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>Whether or not this object should use the displaced mesh for computation.  Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">force_preaux</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Forces the GeneralUserObject to be executed in PREAUX</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>Forces the GeneralUserObject to be executed in PREAUX</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a data-delay="1000" data-position="left" href="#79bc3814-6927-40e5-9dee-6dcdc69f948f" class="tooltipped" data-tooltip="Description">Description</a></li><li><a data-delay="1000" data-position="left" href="#3018ba84-c840-425d-8db8-b4df054648e8" class="tooltipped" data-tooltip="Example   Input   Syntax">Example   Input   Syntax</a></li><li><a data-delay="1000" data-position="left" href="#cd498d7d-7271-41fb-bc38-26d3f8b00889" class="tooltipped" data-tooltip="Input   Parameters">Input   Parameters</a></li></ul></div></div></div></div></main></div><div id="38617ddd-c2a7-4017-98f3-2dea38c8039f" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/test/tests/auxkernels/solution_aux/solution_aux_exodus_interp.i</h4><pre><code class="language-text">[Mesh]
  type = FileMesh
  file = cubesource.e
  # This test uses SolutionUserObject which doesn't work with DistributedMesh.
  parallel_type = replicated
[]

[Variables]
  [./u]
    order = FIRST
    family = LAGRANGE
    initial_condition = 0.0
  [../]
[]

[AuxVariables]
  [./nn]
    order = FIRST
    family = LAGRANGE
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[AuxKernels]
  [./nn]
    type = SolutionAux
    variable = nn
    solution = soln
  [../]
[]

[UserObjects]
  [./soln]
    type = SolutionUserObject
    mesh = cubesource.e
    system_variables = source_nodal
  [../]
[]

[BCs]
  [./stuff]
    type = DirichletBC
    variable = u
    boundary = '1 2'
    value = 0.0
  [../]
[]

[Executioner]
  type = Transient

  solve_type = 'NEWTON'
  l_max_its = 800
  nl_rel_tol = 1e-10
  num_steps = 50
  end_time = 5
  dt = 0.5
[]

[Outputs]
  execute_on = 'timestep_end'
  exodus = true
[]
</code></pre></div></div></body></html>