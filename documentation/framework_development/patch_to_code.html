<!DOCTYPE html><html><head><meta charset="UTF-8"><link media="screen,projection" href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><script src="../../contrib/jquery/jquery.min.js" type="text/javascript"></script><script src="../../contrib/materialize/materialize.min.js" type="text/javascript"></script><script src="../../contrib/clipboard/clipboard.min.js" type="text/javascript"></script><script src="../../contrib/prism/prism.min.js" type="text/javascript"></script><script src="../../contrib/katex/katex.min.js" type="text/javascript"></script><script src="../../contrib/fuse/fuse.min.js" type="text/javascript"></script><script src="../../js/search_index.js" type="text/javascript"></script><script src="../../js/init.js" type="text/javascript"></script><title>How   a   Patch   becomes   Code|Numbat</title></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://github.com/cpgr/numbat" class="right"><img src="../../media/github-logo.png" class="github-mark"></img><img src="../../media/github-mark.png" class="github-logo"></img></a><a href="http://cpgr.github.io/numbat/" class="left moose-logo">Numbat</a><ul class="right hide-on-med-and-down" id="nav-mobile"><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="3ca00d83-20ca-4893-9b81-9237aa805fe1">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="c22493ec-3889-4724-91c1-ad5646f64e53">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="ce99f8ae-6c05-4c57-ab7f-351c3e918dc5">Details<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="62a9cfae-718e-43f6-8f89-4f92ad19d341">Examples<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="2762dda0-7b12-46d4-b0c4-510d0a2480eb">Manual<i class="material-icons right">arrow_drop_down</i></a></li></ul><ul class="dropdown-content" id="3ca00d83-20ca-4893-9b81-9237aa805fe1"><li><a href="../../getting_started.html">Installation</a></li></ul><ul class="dropdown-content" id="c22493ec-3889-4724-91c1-ad5646f64e53"><li><a href="../../introduction.html">Introduction</a></li><li><a href="../../governing_equations.html">Governing equations</a></li></ul><ul class="dropdown-content" id="ce99f8ae-6c05-4c57-ab7f-351c3e918dc5"><li><a href="../../implementation.html">Implementation</a></li><li><a href="../../input_file_syntax.html">Input file syntax</a></li><li><a href="../../systems.html">Available objects</a></li></ul><ul class="dropdown-content" id="62a9cfae-718e-43f6-8f89-4f92ad19d341"><li><a href="../../example2D.html">2D</a></li><li><a href="../../example3D.html">3D</a></li></ul><ul class="dropdown-content" id="2762dda0-7b12-46d4-b0c4-510d0a2480eb"><li><a href="../../download.html">User manual</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input autocomplete="off" onkeyup="mooseSearch()" type="text" id="moose-search-box"><label for="search">http://cpgr.github.io/numbat/</label></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-action modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">documentation</span><a href="." class="breadcrumb">framework_development</a><a href="patch_to_code.html" class="breadcrumb">patch_to_code</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section data-section-text="How   a   Patch   becomes   Code" data-section-level="1" id="f4d7afd6-5771-4630-838b-01c6543e849f"><h1>How a Patch becomes Code</h1><p><em></em>Note:<em></em> This is a follow on to <a data-position="top" href="contributing.html" class="tooltipped" data-tooltip="contributing.html">Contributing</a>.</p><p>MOOSE uses an extensive set of automated processes and peer review to take in code from Contributors.</p><section class="section scrollspy" data-section-text="1 .   It   begins   with   a   Pull   Request" data-section-level="2" id="b4862ae5-c921-43c3-9d0f-83e3645adf01"><h2>1. It begins with a Pull Request</h2><p><a data-position="top" href="contributing.html" class="tooltipped" data-tooltip="contributing.html">Contributors</a> submit code to MOOSE by pushing their modifications to their <a href="https://help.github.com/articles/fork-a-repo" data-tooltip="https://help.github.com/articles/fork-a-repo" data-position="top" class="tooltipped">Fork</a> of the MOOSE repository. Then, a Contributor will submit a Pull Request (PR) to pull their modifications from their Fork into the <code>devel</code> branch in the main MOOSE repository.</p></section><section class="section scrollspy" data-section-text="2 .   Testing   At   Every   Turn" data-section-level="2" id="49449827-05d3-4fec-9b4f-0026dd6fc101"><h2>2. Testing At Every Turn</h2><p>Once a PR is opened on GitHub, it will automatically signal <a href="http://civet.inl.gov" data-tooltip="http://civet.inl.gov" data-position="top" class="tooltipped">CIVET</a>, which creates multiple "jobs" on <a href="http://civet.inl.gov" data-tooltip="http://civet.inl.gov" data-position="top" class="tooltipped">http://civet.inl.gov</a>. Client processes running on our build machines will pull down the code contribution, check it for basic formatting, make sure that it references an issue (see <a data-position="top" href="contributing.html" class="tooltipped" data-tooltip="contributing.html">Contributing</a>, and runs a few other pre-checks). If you fail this check, please click on the job to explore details about what went wrong. As a first time developer, you will likely run into a few minor problems. Make changes to your branch and continue to push it up to the server to try again. <strong>Note:</strong> You do not need to close your PR if you fail to pass checks. Just make adjustments and push again.</p><p>Once you have passed the pre-check, you might find that CIVET is waiting to actually build your code. This happens if you are contributing to MOOSE for the first time and we are unfamiliar with you. This is to protect our systems from abuse or malice. Rest assured, a developer will take a look at your contribution soon and will activate the CIVET targets. CIVET will run your code on several platforms under a variety of configurations to make sure that new bugs have not been introduced as a result of your contribution. Check back later for results on the testing of your PR.</p></section><section class="section scrollspy" data-section-text="3 .   Peer   Review" data-section-level="2" id="ce1b8f81-9dcb-4f80-8807-84058dcd748d"><h2>3. Peer Review</h2><p>At this point, if the code passes the tests MOOSE developers will be assigned to review the code. Comments from MOOSE developers will be placed on the PR raising any potential issues.</p></section><section class="section scrollspy" data-section-text="4 .   Pull   Request   Cleanup" data-section-level="2" id="a749a167-447a-47c0-9e25-9c17f587ebc2"><h2>4. Pull Request Cleanup</h2><p>If there are any issues with the code as submitted it is the job of the submitter to respond to the comments and take corrective action. That corrective action usually comes in two forms:</p><section data-section-text="Small   Fixes" data-section-level="3" id="4ff38839-9163-4080-bdf8-a2de594f3366"><h3>Small Fixes</h3><p>If only small fixes are required then the submitter should <code>amend</code> their patch set to fix the small issues and <code>force push</code> the patches back into their branch in their fork. The basic sequence for doing so is:</p><pre><code class="language-bash">
# In your local clone of your Fork
git co branch_name # Checkout the branch you pushed to your Fork that the PR is using
# make changes
git add filename.C  # Use &quot;git add&quot; to mark changes as needing to be committed
git commit --amend  # Amend the &quot;top&quot; commit to include these small changes
git push --force origin branchname # Force your changes back into your branch in your Fork on GitHub
</code></pre><p>The actual commands that you can use for this step can vary... the above is just to give you an idea of what's involved. If your PR is very long-lived it may be a good idea to rebase your patches on top of any recent activity in the real MOOSE repo <em>before</em> the <code>push</code>:</p><pre><code class="language-bash">
git fetch upstream
git rebase upstream/devel
</code></pre><p>You may have to fix conflicts during that stage.</p></section><section data-section-text="Bigger   Changes" data-section-level="3" id="ddc8c733-efad-4800-9ae8-94cf6163a090"><h3>Bigger Changes</h3><p>If there are more features that need to be added to your code before it's accepted by the MOOSE team you can also achieve that by simply adding more patches to your branch. Always remember to reference the ticket number you are working on in the commit message for each patch that is going into MOOSE.</p></section></section><section class="section scrollspy" data-section-text="5 .   Merging" data-section-level="2" id="b45793c1-c8ae-4e05-ac80-0fee6e53291c"><h2>5. Merging</h2><p>At the point where a MOOSE developer believes your code is fit for inclusion in MOOSE they will "merge" your code into the <code>devel</code> branch in the main MOOSE repository. That act of merging automatically kicks off a set of processes:</p><ol start="1" class="browser-default"><li><p> <a href="http://civet.inl.gov" data-tooltip="http://civet.inl.gov" data-position="top" class="tooltipped">CIVET</a> is signaled and more testing is done across multiple platforms. </p></li><li><p> If #1 passes then the code change is automatically merged into the <code>master</code> branch in the main MOOSE repo (that is our "stable" branch). </p></li><li><p> The automated merge to <code>master</code> cues CIVET to spawn jobs that automatically build:</p></li></ol><ul class="browser-default"><li><p><a href="http://www.mooseframework.com/docs/doxygen/moose/classes.html" data-tooltip="http://www.mooseframework.com/docs/doxygen/moose/classes.html" data-position="top" class="tooltipped">Doxygen Documentation</a> </p></li><li><p><a href="http://mooseframework.com/docs/syntax/moose/" data-tooltip="http://mooseframework.com/docs/syntax/moose/" data-position="top" class="tooltipped">Browseable Input File Syntax</a> </p></li><li><p><a href="http://mooseframework.com/docs/timing/" data-tooltip="http://mooseframework.com/docs/timing/" data-position="top" class="tooltipped">Test Timing Metrics</a> </p></li><li><p><a href="http://mooseframework.com/docs/coverage/moose/" data-tooltip="http://mooseframework.com/docs/coverage/moose/" data-position="top" class="tooltipped">Test Coverage</a></p></li></ul></section><section class="section scrollspy" data-section-text="6 .   Inactive   Pull   Request   Policy" data-section-level="2" id="c12a81e6-6ce0-4c4f-be62-daa811307fbd"><h2>6. Inactive Pull Request Policy</h2><p>Pull Requests that remain inactive with unaddressed comments or failed tests for a period of <strong>30 days</strong> may be closed by any member of the MOOSE team at their discretion. These Pull Requests may be reopened by the original developer or an interested party at any time if activity resumes. These unmerged PRs can be found by using the filter <code></code><code>is:unmerged.</code><code></code> </p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a data-delay="1000" data-position="left" href="#b4862ae5-c921-43c3-9d0f-83e3645adf01" class="tooltipped" data-tooltip="1 .   It   begins   with   a   Pull   Request">1 .   It   begins   with   a   Pull   Request</a></li><li><a data-delay="1000" data-position="left" href="#49449827-05d3-4fec-9b4f-0026dd6fc101" class="tooltipped" data-tooltip="2 .   Testing   At   Every   Turn">2 .   Testing   At   Every   Turn</a></li><li><a data-delay="1000" data-position="left" href="#ce1b8f81-9dcb-4f80-8807-84058dcd748d" class="tooltipped" data-tooltip="3 .   Peer   Review">3 .   Peer   Review</a></li><li><a data-delay="1000" data-position="left" href="#a749a167-447a-47c0-9e25-9c17f587ebc2" class="tooltipped" data-tooltip="4 .   Pull   Request   Cleanup">4 .   Pull   Request   Cleanup</a></li><li><a data-delay="1000" data-position="left" href="#b45793c1-c8ae-4e05-ac80-0fee6e53291c" class="tooltipped" data-tooltip="5 .   Merging">5 .   Merging</a></li><li><a data-delay="1000" data-position="left" href="#c12a81e6-6ce0-4c4f-be62-daa811307fbd" class="tooltipped" data-tooltip="6 .   Inactive   Pull   Request   Policy">6 .   Inactive   Pull   Request   Policy</a></li></ul></div></div></div></div></main></div></body></html>