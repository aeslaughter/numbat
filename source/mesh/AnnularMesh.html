<!DOCTYPE html><html><head><meta charset="UTF-8"><link media="screen,projection" href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><script src="../../contrib/jquery/jquery.min.js" type="text/javascript"></script><script src="../../contrib/materialize/materialize.min.js" type="text/javascript"></script><script src="../../contrib/clipboard/clipboard.min.js" type="text/javascript"></script><script src="../../contrib/prism/prism.min.js" type="text/javascript"></script><script src="../../contrib/katex/katex.min.js" type="text/javascript"></script><script src="../../contrib/fuse/fuse.min.js" type="text/javascript"></script><script src="../../js/search_index.js" type="text/javascript"></script><script src="../../js/init.js" type="text/javascript"></script><title>AnnularMesh|Numbat</title><script src="../../contrib/plotly/plotly.min.js" type="text/javascript"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://github.com/cpgr/numbat" class="right"><img src="../../media/github-logo.png" class="github-mark"></img><img src="../../media/github-mark.png" class="github-logo"></img></a><a href="http://cpgr.github.io/numbat/" class="left moose-logo">Numbat</a><ul class="right hide-on-med-and-down" id="nav-mobile"><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="d7930b02-42b4-4b8a-88cb-84cbc959f5bb">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="9936b6ac-a86c-4b76-9f3b-186c6e90b300">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="e03f2f05-d4dc-465d-8472-a0966547456a">Details<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="f3baf383-c4a2-452e-a56e-9adac8256d23">Examples<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="e0bbce83-a370-41aa-8c4c-eaa1daa56a97">Manual<i class="material-icons right">arrow_drop_down</i></a></li></ul><ul class="dropdown-content" id="d7930b02-42b4-4b8a-88cb-84cbc959f5bb"><li><a href="../../getting_started.html">Installation</a></li><li><a href="../../contributing.html">Contributing</a></li></ul><ul class="dropdown-content" id="9936b6ac-a86c-4b76-9f3b-186c6e90b300"><li><a href="../../introduction.html">Introduction</a></li><li><a href="../../governing_equations.html">Governing equations</a></li></ul><ul class="dropdown-content" id="e03f2f05-d4dc-465d-8472-a0966547456a"><li><a href="../../implementation.html">Implementation</a></li><li><a href="../../input_file_syntax.html">Input file syntax</a></li><li><a href="../../running_numbat.html">Running Numbat</a></li><li><a href="../../systems.html">Available objects</a></li></ul><ul class="dropdown-content" id="f3baf383-c4a2-452e-a56e-9adac8256d23"><li><a href="../../example2D.html">2D</a></li><li><a href="../../example3D.html">3D</a></li></ul><ul class="dropdown-content" id="e0bbce83-a370-41aa-8c4c-eaa1daa56a97"><li><a href="../../download.html">User manual</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input autocomplete="off" onkeyup="mooseSearch()" type="text" id="moose-search-box"><label for="search">http://cpgr.github.io/numbat/</label></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-action modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">mesh</span><a href="AnnularMesh.html" class="breadcrumb">AnnularMesh</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section data-section-text="AnnularMesh" data-section-level="1" id="67f0dd0c-1d84-472d-bb88-fd810061d670"><h1>AnnularMesh</h1><p>For rmin>0: creates an annular mesh of QUAD4 elements. For rmin=0: creates a disc mesh of QUAD4 and TRI3 elements. Boundary sidesets are created at rmax and rmin, and given these names. If tmin!<u>0 and tmax!</u>2Pi, a sector of an annulus or disc is created. In this case boundary sidesets are also created a tmin and tmax, and given these names</p><section class="scrollspy" data-section-text="Description" data-section-level="2" id="4ce1ffe2-e0b2-4fe3-80b9-ff5e05660992"><h2>Description</h2><p>The <code>AnnularMesh</code> mesh generator builds simple 2D annular and disc meshes. They are created by drawing radial lines and concentric circles, and the mesh consists of the quadrilaterals thus formed. Therefore, no sophisticated paving is used to construct the mesh.</p><p>The inner radius and the outer radius must be specified. If the inner radius is zero a disc mesh is created, while if it is positive an annulus is created. The annulus has just one subdomain (block number = 0), whereas the disc has two subdomains: subdomain zero consists of the outer quadrilaterals, while the other (block number = 1) consists of the triangular elements that eminate from the origin.</p><p>The minimum and maximum angle may also be specified. These default to zero and <span class="moose-katex-inline-equation" id="moose-equation-2f13cc17-e661-4842-aa77-18cbb814678d"><script>var element = document.getElementById("moose-equation-2f13cc17-e661-4842-aa77-18cbb814678d");katex.render("2\\pi", element, {displayMode:false,throwOnError:false});</script></span>, respectively. If other values are chosen, a sector of an annulus, or a sector of a disc will be created. Both angles are measured anticlockwise from the <span class="moose-katex-inline-equation" id="moose-equation-c46fccaa-f5cf-4675-91d0-c00a11c2e1cb"><script>var element = document.getElementById("moose-equation-c46fccaa-f5cf-4675-91d0-c00a11c2e1cb");katex.render("x", element, {displayMode:false,throwOnError:false});</script></span> axis.</p><p>The number of elements in the radial direction and the angular direction may be specified. In addition, a growth factor on the element size in the radial direction may be chosen. The element-size (in the radial direction) is multiplied by this factor for each concentric ring of elements, moving from the inner to the outer radius.</p><p>Sidesets are also created:</p><p>* Sideset 0 is called "rmin" and is the set of sides at the minimum radius (which is zero for the disc). * Sideset 1 is called "rmax" and is the set of sides at the maximum radius. * Sideset 2 is called "tmin" and is the set of sides at the minimum angle, which is created only in the case of a sector of an annulus (or disc) * Sideset 3 is called "tmax" and is the set of sides at the maximum angle, which is created only in the case of a sector of an annulus (or disc)</p></section><section class="scrollspy" data-section-text="Example   Syntax" data-section-level="2" id="71d6e5dc-9c8c-48a6-b5c8-b5bdb9595fa4"><h2>Example Syntax</h2><p>A full annulus with minimum radius 1 and maximum radius 5, with smaller elements near the inside of the annulus. (A disc would be created by setting rmin to zero.) !listing test/tests/mesh/mesh_generation/annulus.i block=Mesh</p><p>A sector of an annulus, sitting between <span class="moose-katex-inline-equation" id="moose-equation-ab72384e-cd70-44aa-8196-a955ff938ef1"><script>var element = document.getElementById("moose-equation-ab72384e-cd70-44aa-8196-a955ff938ef1");katex.render("\\theta_{\\mathrm{min}}=\\pi/4", element, {displayMode:false,throwOnError:false});</script></span> and <span class="moose-katex-inline-equation" id="moose-equation-d41edc25-8e3c-4725-b3a5-e342ef7d1d33"><script>var element = document.getElementById("moose-equation-d41edc25-8e3c-4725-b3a5-e342ef7d1d33");katex.render("\\theta_{\\mathrm{max}}=3\\pi/4", element, {displayMode:false,throwOnError:false});</script></span>. (A sector of a disc would be created by setting rmin to zero.) !listing test/tests/mesh/mesh_generation/annulus_sector.i block=Mesh</p><p>An example of using sidesets !listing test/tests/mesh/mesh_generation/annulus_sector.i block=BCs</p></section><section class="scrollspy" data-section-text="Input   Parameters" data-section-level="2" id="3a97ed20-c7f9-4021-b47b-5500921d2220"><h2>Input Parameters</h2><section data-details-open="open" data-section-text="Required Parameters" data-section-level="3" id="662ee850-0884-4c60-b2ee-ccf394ce987c"><details open="open" class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">rmax</span><span class="moose-parameter-header-description">Outer radius</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Outer radius</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">rmin</span><span class="moose-parameter-header-description">Inner radius.  If rmin=0 then a disc mesh (with no central hole) will be created.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Inner radius.  If rmin=0 then a disc mesh (with no central hole) will be created.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nt</span><span class="moose-parameter-header-description">Number of elements in the angular direction</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description"><span>Description:</span>Number of elements in the angular direction</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section data-details-open="open" data-section-text="Optional Parameters" data-section-level="3" id="b4b8c5e8-3b88-4298-95e1-b6d281694a8b"><details open="open" class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">quad_subdomain_id</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The subdomain ID given to the QUAD4 elements</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned short</p><p class="moose-parameter-description"><span>Description:</span>The subdomain ID given to the QUAD4 elements</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">tmin</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Minimum angle, measured anticlockwise from x axis</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Minimum angle, measured anticlockwise from x axis</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">tmax</span><span class="moose-parameter-header-default">6.28319</span><span class="moose-parameter-header-description">Maximum angle, measured anticlockwise from x axis.  If tmin=0 and tmax=2Pi an annular mesh is created.  Otherwise, only a sector of an annulus is created</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>6.28319</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>Maximum angle, measured anticlockwise from x axis.  If tmin=0 and tmax=2Pi an annular mesh is created.  Otherwise, only a sector of an annulus is created</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">allow_renumbering</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">If allow_renumbering=false, node and element numbers are kept fixed until deletion</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>If allow_renumbering=false, node and element numbers are kept fixed until deletion</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">tri_subdomain_id</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">The subdomain ID given to the TRI3 elements (these exist only if rmin=0, and they exist at the center of the disc</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned short</p><p class="moose-parameter-description"><span>Description:</span>The subdomain ID given to the TRI3 elements (these exist only if rmin=0, and they exist at the center of the disc</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">parallel_type</span><span class="moose-parameter-header-default">DEFAULT</span><span class="moose-parameter-header-description">DISTRIBUTED: Always use libMesh::DistributedMesh REPLICATED: Always use libMesh::ReplicatedMesh DEFAULT: Use libMesh::ReplicatedMesh unless --distributed-mesh is specified on the command line</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>DEFAULT</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description"><span>Description:</span>DISTRIBUTED: Always use libMesh::DistributedMesh REPLICATED: Always use libMesh::ReplicatedMesh DEFAULT: Use libMesh::ReplicatedMesh unless --distributed-mesh is specified on the command line</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">ghosting_patch_size</span><span class="moose-parameter-header-description">The number of nearest neighbors considered for ghosting purposes when 'iteration' patch update strategy is used. Default is 5 * patch_size.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description"><span>Description:</span>The number of nearest neighbors considered for ghosting purposes when 'iteration' patch update strategy is used. Default is 5 * patch_size.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">growth_r</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">The ratio of radial sizes of successive rings of elements</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description"><span>Description:</span>The ratio of radial sizes of successive rings of elements</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nr</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Number of elements in the radial direction</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description"><span>Description:</span>Number of elements in the radial direction</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">max_leaf_size</span><span class="moose-parameter-header-default">10</span><span class="moose-parameter-header-description">The maximum number of points in each leaf of the KDTree used in the nearest neighbor search. As the leaf size becomes larger,KDTree construction becomes faster but the nearest neighbor searchbecomes slower.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>10</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description"><span>Description:</span>The maximum number of points in each leaf of the KDTree used in the nearest neighbor search. As the leaf size becomes larger,KDTree construction becomes faster but the nearest neighbor searchbecomes slower.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section data-details-open="close" data-section-text="Partitioning Parameters" data-section-level="3" id="3dfd74be-fb97-463f-acc5-4a0a2e68af7f"><details class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">partitioner</span><span class="moose-parameter-header-default">default</span><span class="moose-parameter-header-description">Specifies a mesh partitioner to use when splitting the mesh for a parallel computation.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>default</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description"><span>Description:</span>Specifies a mesh partitioner to use when splitting the mesh for a parallel computation.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">centroid_partitioner_direction</span><span class="moose-parameter-header-description">Specifies the sort direction if using the centroid partitioner. Available options: x, y, z, radial</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description"><span>Description:</span>Specifies the sort direction if using the centroid partitioner. Available options: x, y, z, radial</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Partitioning Parameters</h3></summary></details></section><section data-details-open="close" data-section-text="Advanced Parameters" data-section-level="3" id="be78c261-f564-4d71-a913-24428e6cb11e"><details class="moose-section-content"><ul data-collapsible="expandable" class="collapsible"><li><div class="collapsible-header"><span class="moose-parameter-name">dim</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">This is only required for certain mesh formats where the dimension of the mesh cannot be autodetected. In particular you must supply this for GMSH meshes. Note: This is completely ignored for ExodusII meshes!</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description"><span>Description:</span>This is only required for certain mesh formats where the dimension of the mesh cannot be autodetected. In particular you must supply this for GMSH meshes. Note: This is completely ignored for ExodusII meshes!</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">patch_update_strategy</span><span class="moose-parameter-header-default">never</span><span class="moose-parameter-header-description">How often to update the geometric search 'patch'.  The default is to never update it (which is the most efficient but could be a problem with lots of relative motion). 'always' will update the patch for all slave nodes at the beginning of every timestep which might be time consuming. 'auto' will attempt to determine at the start of which timesteps the patch for all slave nodes needs to be updated automatically.'iteration' updates the patch at every nonlinear iteration for a subset of slave nodes for which penetration is not detected. If there can be substantial relative motion between the master and slave surfaces during the nonlinear iterations within a timestep, it is advisable to use 'iteration' option to ensure accurate contact detection.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>never</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description"><span>Description:</span>How often to update the geometric search 'patch'.  The default is to never update it (which is the most efficient but could be a problem with lots of relative motion). 'always' will update the patch for all slave nodes at the beginning of every timestep which might be time consuming. 'auto' will attempt to determine at the start of which timesteps the patch for all slave nodes needs to be updated automatically.'iteration' updates the patch at every nonlinear iteration for a subset of slave nodes for which penetration is not detected. If there can be substantial relative motion between the master and slave surfaces during the nonlinear iterations within a timestep, it is advisable to use 'iteration' option to ensure accurate contact detection.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector<std::string></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nemesis</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">If nemesis=true and file=foo.e, actually reads foo.e.N.0, foo.e.N.1, ... foo.e.N.N-1, where N = # CPUs, with NemesisIO.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>If nemesis=true and file=foo.e, actually reads foo.e.N.0, foo.e.N.1, ... foo.e.N.N-1, where N = # CPUs, with NemesisIO.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">construct_node_list_from_side_list</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Whether or not to generate nodesets from the sidesets (usually a good idea).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to generate nodesets from the sidesets (usually a good idea).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">patch_size</span><span class="moose-parameter-header-default">40</span><span class="moose-parameter-header-description">The number of nodes to consider in the NearestNode neighborhood.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>40</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description"><span>Description:</span>The number of nodes to consider in the NearestNode neighborhood.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a data-delay="1000" data-position="left" href="#4ce1ffe2-e0b2-4fe3-80b9-ff5e05660992" class="tooltipped" data-tooltip="Description">Description</a></li><li><a data-delay="1000" data-position="left" href="#71d6e5dc-9c8c-48a6-b5c8-b5bdb9595fa4" class="tooltipped" data-tooltip="Example   Syntax">Example   Syntax</a></li><li><a data-delay="1000" data-position="left" href="#3a97ed20-c7f9-4021-b47b-5500921d2220" class="tooltipped" data-tooltip="Input   Parameters">Input   Parameters</a></li></ul></div></div></div></div></main></div></body></html>