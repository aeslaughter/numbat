<!DOCTYPE html><html><head><meta charset="UTF-8"><link media="screen,projection" href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><script src="../../contrib/jquery/jquery.min.js" type="text/javascript"></script><script src="../../contrib/materialize/materialize.min.js" type="text/javascript"></script><script src="../../contrib/clipboard/clipboard.min.js" type="text/javascript"></script><script src="../../contrib/prism/prism.min.js" type="text/javascript"></script><script src="../../contrib/katex/katex.min.js" type="text/javascript"></script><script src="../../contrib/fuse/fuse.min.js" type="text/javascript"></script><script src="../../js/search_index.js" type="text/javascript"></script><script src="../../js/init.js" type="text/javascript"></script><title>Setup   Jupyter   Python   Notebooks|Numbat</title><script src="../../contrib/plotly/plotly.min.js" type="text/javascript"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://github.com/cpgr/numbat" class="right"><img src="../../media/github-logo.png" class="github-mark"></img><img src="../../media/github-mark.png" class="github-logo"></img></a><a href="http://cpgr.github.io/numbat/" class="left moose-logo">Numbat</a><ul class="right hide-on-med-and-down" id="nav-mobile"><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="7ab2b227-ed8e-4b61-94bf-10da0ce06965">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="5c736f2b-6532-4bcd-aeff-67e88847c59d">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="26f5b700-6d22-46f7-a2cf-fe58958fd320">Details<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="f9973e04-7e7a-4770-9d07-73b1111f2a02">Examples<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="9d21dff7-1cdd-426c-8225-83212a1d798c">Manual<i class="material-icons right">arrow_drop_down</i></a></li></ul><ul class="dropdown-content" id="7ab2b227-ed8e-4b61-94bf-10da0ce06965"><li><a href="../../getting_started.html">Installation</a></li><li><a href="../../contributing.html">Contributing</a></li></ul><ul class="dropdown-content" id="5c736f2b-6532-4bcd-aeff-67e88847c59d"><li><a href="../../introduction.html">Introduction</a></li><li><a href="../../governing_equations.html">Governing equations</a></li></ul><ul class="dropdown-content" id="26f5b700-6d22-46f7-a2cf-fe58958fd320"><li><a href="../../implementation.html">Implementation</a></li><li><a href="../../input_file_syntax.html">Input file syntax</a></li><li><a href="../../running_numbat.html">Running Numbat</a></li><li><a href="../../systems.html">Available objects</a></li></ul><ul class="dropdown-content" id="f9973e04-7e7a-4770-9d07-73b1111f2a02"><li><a href="../../example2D.html">2D</a></li><li><a href="../../example3D.html">3D</a></li></ul><ul class="dropdown-content" id="9d21dff7-1cdd-426c-8225-83212a1d798c"><li><a href="../../download.html">User manual</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input autocomplete="off" onkeyup="mooseSearch()" type="text" id="moose-search-box"><label for="search">http://cpgr.github.io/numbat/</label></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-action modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">help</span><a href="." class="breadcrumb">development</a><a href="jupyter.html" class="breadcrumb">jupyter</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section data-section-text="Setup   Jupyter   Python   Notebooks" data-section-level="1" id="55ddba68-b967-4f8c-a6c6-1ecb56a4919f"><h1>Setup Jupyter Python Notebooks</h1><p><a href="http://jupyter.org/" data-tooltip="http://jupyter.org/" data-position="top" class="tooltipped">Jupyter</a> Notebooks are a web application that allows creating and sharing documents that contain live (python) code, equations, visualizations and explanatory text. It is an ideal vehicle to distribute worksheets with equation derivations and graphs and can even contain interactive elements.</p><section class="scrollspy" data-section-text="Installing   Jupyter" data-section-level="2" id="a8c0ac10-e9c3-4cf7-887e-02fe127c1a9c"><h2>Installing Jupyter</h2><p>MOOSE comes bundled with a miniconda install. To install additional python modules such as the python based Jupyter system it is suggested to create a custom conda environment</p><pre><code class="language-bash">
conda create -n jupyter --clone=/opt/moose/miniconda
</code></pre><p>The new environment needs to be activated and the necessary python packages installed</p><pre><code class="language-bash">
source activate jupyter
conda install jupyter sympy
</code></pre></section><section class="scrollspy" data-section-text="Running   the   Notebook   server" data-section-level="2" id="660e7e69-55ba-49a7-be28-8205ee8a0167"><h2>Running the Notebook server</h2><p>In the directory in which the notebook files are to be stored execute</p><pre><code class="language-bash">
jupyter-notebook
</code></pre><p>A browser window sould open with a list of notebooks (<code>*.ipynb</code> files) and a few UI elements.</p></section><section class="scrollspy" data-section-text="Starting   a   new   notebook" data-section-level="2" id="893e25f0-556b-41f5-a6c7-be557e4a2765"><h2>Starting a new notebook</h2><p>From the _New_ dropdown in the top right select _Python 2_ under _Notebooks_. A new browser tab with an empty notebook should open.</p><img src="../../media/jupyter_new.png" class="materialboxed moose-image"></img><p>Start by importing <a href="http://www.sympy.org/en/index.html" data-tooltip="http://www.sympy.org/en/index.html" data-position="top" class="tooltipped">sympy</a> in <code>In [1]:</code> and enabling LaTeX rendering for equations.</p><pre><code class="language-python">
from sympy import *
from sympy import init_printing
init_printing(use_latex=True)
</code></pre><p>Next define a few variables and a function (for which we only declare an argument but not an implementation yet)</p><pre><code class="language-python">
c, eta = symbols(&quot;c eta&quot;)
h = Function(&quot;h&quot;)(eta)
</code></pre><p>Now lets define an expression <code>f</code> using these components</p><pre><code class="language-python">
f = h*c**2 + (1-h)*(1-c)**2
f
</code></pre><p>The lone <code>f</code> on the second line causes the expression to be printed in <code>Out [3]:</code>. We can now build a few symbolic deriuvatives of the expression <code>f</code> with respect to <code>c</code> and <code>eta</code></p><pre><code class="language-python">
(diff(f, c), diff(f,eta))
</code></pre><p>This should yield</p><img src="../../media/jupyter_example.png" class="materialboxed moose-image"></img></section><section class="scrollspy" data-section-text="Enabling   and   disabling   the   environment" data-section-level="2" id="73740ee3-39c8-4d2f-95c4-b5460c20c544"><h2>Enabling and disabling the environment</h2><p>To switch back and forth between the pristine MOOSE miniconda environment the <code>jupyter</code> environment use the following commands</p><pre><code class="language-bash">
source activate jupyter
```
```bash
source deactivate jupyter
</code></pre></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a data-delay="1000" data-position="left" href="#a8c0ac10-e9c3-4cf7-887e-02fe127c1a9c" class="tooltipped" data-tooltip="Installing   Jupyter">Installing   Jupyter</a></li><li><a data-delay="1000" data-position="left" href="#660e7e69-55ba-49a7-be28-8205ee8a0167" class="tooltipped" data-tooltip="Running   the   Notebook   server">Running   the   Notebook   server</a></li><li><a data-delay="1000" data-position="left" href="#893e25f0-556b-41f5-a6c7-be557e4a2765" class="tooltipped" data-tooltip="Starting   a   new   notebook">Starting   a   new   notebook</a></li><li><a data-delay="1000" data-position="left" href="#73740ee3-39c8-4d2f-95c4-b5460c20c544" class="tooltipped" data-tooltip="Enabling   and   disabling   the   environment">Enabling   and   disabling   the   environment</a></li></ul></div></div></div></div></main></div></body></html>