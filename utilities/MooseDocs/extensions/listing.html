<!DOCTYPE html><html><head><meta charset="UTF-8"><link media="screen,projection" href="../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet"></link><link href="../../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../css/moose.css" type="text/css" rel="stylesheet"></link><script src="../../../contrib/jquery/jquery.min.js" type="text/javascript"></script><script src="../../../contrib/materialize/materialize.min.js" type="text/javascript"></script><script src="../../../contrib/clipboard/clipboard.min.js" type="text/javascript"></script><script src="../../../contrib/prism/prism.min.js" type="text/javascript"></script><script src="../../../contrib/katex/katex.min.js" type="text/javascript"></script><script src="../../../contrib/fuse/fuse.min.js" type="text/javascript"></script><script src="../../../js/search_index.js" type="text/javascript"></script><script src="../../../js/init.js" type="text/javascript"></script><title>Listing   Extension|Numbat</title><script src="../../../contrib/plotly/plotly.min.js" type="text/javascript"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://github.com/cpgr/numbat" class="right"><img src="../../../media/github-logo.png" class="github-mark"></img><img src="../../../media/github-mark.png" class="github-logo"></img></a><a href="http://cpgr.github.io/numbat/" class="left moose-logo">Numbat</a><ul class="right hide-on-med-and-down" id="nav-mobile"><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="128138f7-eaa9-4762-963e-640257010ef1">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="03a78980-8dc3-474f-8754-fb36964dd680">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="9db6325c-3cff-4595-9f48-8998d91dd297">Details<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="47987bc6-e2cc-4d34-b26a-5bc9a370769a">Examples<i class="material-icons right">arrow_drop_down</i></a></li><li><a data-constrainWidth="false" href="#!" class="dropdown-button" data-activates="76cc3cfa-3eb2-4796-99c0-e298ec60da64">Manual<i class="material-icons right">arrow_drop_down</i></a></li></ul><ul class="dropdown-content" id="128138f7-eaa9-4762-963e-640257010ef1"><li><a href="../../../getting_started.html">Installation</a></li></ul><ul class="dropdown-content" id="03a78980-8dc3-474f-8754-fb36964dd680"><li><a href="../../../introduction.html">Introduction</a></li><li><a href="../../../governing_equations.html">Governing equations</a></li></ul><ul class="dropdown-content" id="9db6325c-3cff-4595-9f48-8998d91dd297"><li><a href="../../../implementation.html">Implementation</a></li><li><a href="../../../input_file_syntax.html">Input file syntax</a></li><li><a href="../../../running_numbat.html">Running Numbat</a></li><li><a href="../../../systems.html">Available objects</a></li></ul><ul class="dropdown-content" id="47987bc6-e2cc-4d34-b26a-5bc9a370769a"><li><a href="../../../example2D.html">2D</a></li><li><a href="../../../example3D.html">3D</a></li></ul><ul class="dropdown-content" id="76cc3cfa-3eb2-4796-99c0-e298ec60da64"><li><a href="../../../download.html">User manual</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input autocomplete="off" onkeyup="mooseSearch()" type="text" id="moose-search-box"><label for="search">http://cpgr.github.io/numbat/</label></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-action modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">utilities</span><a href=".." class="breadcrumb">MooseDocs</a><span class="breadcrumb">extensions</span><a href="listing.html" class="breadcrumb">listing</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section data-section-text="Listing   Extension" data-section-level="1" id="e848fa1e-5785-4da8-827f-f72175bf1e5d"><h1>Listing Extension</h1><p>The listing extension provides a mechanism for creating source code listings. The system allows for the inclusion of local content as well as complete or partial snippets of the desired source code and includes the ability to parse MOOSE input files and separate out blocks. The main purpose is to avoid copying code or input syntax into the documentation to avoid out-of-date content.</p><p>The extension provides the <code>!listing</code> command (see <a data-position="top" href="command.html" class="tooltipped" data-tooltip="command.html">Command Extension</a>), which allows for numbered captions to be applied, the <a data-position="top" href="floats.html" class="tooltipped" data-tooltip="floats.html">Float Extension</a> provides additional details. The following table list the available configure options for the extension.</p><div class="card"><div class="card-content"><div class="moose-table-div"><table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>prefix</td><td>Listing</td><td>The caption prefix (e.g., Fig.).</td></tr></tbody></table></div></div></div><p>The <code>!listing</code> command has the capability to include text from local content and arbitrary files (such as source code). files. There is a wide range of settings that are available to specialize how the code is imported. The complete list of available of settings are provided in <a class="tooltipped" href="#moose-listing" data-tooltip="#moose-listing" data-position="top">Table 2</a> and the sections below provide various examples of using some of these settings.</p><section class="scrollspy" data-section-text="Local   Listing   Content" data-section-level="2" id="75f34774-8389-4fd1-bcce-3ac89ff47cf6"><h2>Local Listing Content</h2><p>It is possible to create a listing using local content. This is done by using the <code>!listing</code> command without any agruments with the desired content following the command, see <a data-position="top" href="command.html" class="tooltipped" data-tooltip="command.html">Command Extension</a> for details to how content is defined. The available settings for this command are given in <a class="tooltipped" href="#listing-local-settings" data-tooltip="#listing-local-settings" data-position="top">Table 1</a>.</p><div id="example-listing-local" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 1: </span><span class="moose-caption-text">Example listing with content from local markdown.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing id=local caption=A function for adding 42. language=cpp
double add_forty_two(const double y);
y += 42;
return y;
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 1: </span><span class="moose-caption-text">A function for adding 42.</span></p><pre style="max-height:350px;"><code class="language-cpp">double add_forty_two(const double y);
y += 42;
return y;</code></pre></div></div></div></div></div></div><div id="listing-local-settings" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Table 1: </span><span class="moose-caption-text">Settings available when creating a listing from local content.</span></p><div class="moose-table-div"><table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>style</td><td></td><td>The style settings that are passed to rendered HTML tag.</td></tr><tr><td>language</td><td>None</td><td>The language to use for highlighting, if not supplied it will be inferred from the extension (if possible).</td></tr><tr><td>id</td><td></td><td>The class settings to be passed to the rendered tag.</td></tr><tr><td>max-height</td><td>350px</td><td>The default height for listing content.</td></tr><tr><td>caption</td><td>None</td><td>The caption to use for the listing content.</td></tr><tr><td>prefix</td><td>None</td><td>Text to include prior to the included text.</td></tr><tr><td>class</td><td></td><td>The class settings to be passed to rendered HTML tag.</td></tr></tbody></table></div></div></div></section><section class="scrollspy" data-section-text="File   Content" data-section-level="2" id="66d21548-c557-47d2-9a19-b5ec337ff200"><h2>File Content</h2><p>You can include complete files from the repository. For example, the following creates the code listing in <a class="tooltipped" href="#example-listing-complete" data-tooltip="#example-listing-complete" data-position="top">Example 2</a>.</p><div id="moose-listing" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Table 2: </span><span class="moose-caption-text">Settings available when capturing text from a file with the <code>listing</code> command.</span></p><div class="moose-table-div"><table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>strip-header</td><td>True</td><td>When True the MOOSE header is removed for display.</td></tr><tr><td>style</td><td></td><td>The style settings that are passed to rendered HTML tag.</td></tr><tr><td>strip-extra-newlines</td><td>True</td><td>Removes extraneous new lines from the text.</td></tr><tr><td>indent</td><td>0</td><td>The level of indenting to apply to the included text.</td></tr><tr><td>language</td><td>None</td><td>The language to use for highlighting, if not supplied it will be inferred from the extension (if possible).</td></tr><tr><td>header</td><td>None</td><td>Text to include prior to the included text.</td></tr><tr><td>end</td><td>None</td><td>A portion of text that unique identifies the ending location for including text, if not provided the end of the file is used. By default this line is not included in the display.</td></tr><tr><td>footer</td><td></td><td>Text to include after to the included text.</td></tr><tr><td>re-flags</td><td>re.M|re.S|re.U</td><td>Python re flags.</td></tr><tr><td>start</td><td>None</td><td>A portion of text that unique identifies the starting location for including text, if not provided the beginning of the file is utilized.</td></tr><tr><td>id</td><td></td><td>The class settings to be passed to the rendered tag.</td></tr><tr><td>max-height</td><td>350px</td><td>The default height for listing content.</td></tr><tr><td>caption</td><td>None</td><td>The caption to use for the listing content.</td></tr><tr><td>prefix</td><td>None</td><td>Text to include prior to the included text.</td></tr><tr><td>include-end</td><td>False</td><td>When True the texted captured by the 'end' setting is included in the displayed text.</td></tr><tr><td>link</td><td>True</td><td>Include a link to the filename after the listing.</td></tr><tr><td>re</td><td>False</td><td>Extract content via a regex, if the 'content' group exists it is used as the desired content, otherwise group 0 is used.</td></tr><tr><td>line</td><td>None</td><td>A portion of text that unique identifies a single line to include.</td></tr><tr><td>strip-leading-whitespace</td><td>False</td><td>When True leading white-space is removed from the included text.</td></tr><tr><td>class</td><td></td><td>The class settings to be passed to rendered HTML tag.</td></tr><tr><td>include-start</td><td>True</td><td>When False the texted captured by the 'start' setting is excluded in the displayed text.</td></tr></tbody></table></div></div></div><div id="example-listing-complete" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 2: </span><span class="moose-caption-text">Example for showing a complete file.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing framework/src/kernels/Diffusion.C
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><pre style="max-height:350px;"><code class="language-cpp">// This file is part of the MOOSE framework
// https://www.mooseframework.org
//
// All rights reserved, see COPYRIGHT for full restrictions
// https://github.com/idaholab/moose/blob/master/COPYRIGHT
//
// Licensed under LGPL 2.1, please see LICENSE for details
// https://www.gnu.org/licenses/lgpl-2.1.html

#include &quot;Diffusion.h&quot;

registerMooseObject(&quot;MooseApp&quot;, Diffusion);

template &lt;&gt;
InputParameters
validParams&lt;Diffusion&gt;()
{
  InputParameters params = validParams&lt;Kernel&gt;();
  params.addClassDescription(&quot;The Laplacian operator ($-\\nabla \\cdot \\nabla u$), with the weak &quot;
                             &quot;form of $(\\nabla \\phi_i, \\nabla u_h)$.&quot;);
  return params;
}

Diffusion::Diffusion(const InputParameters &amp; parameters) : Kernel(parameters) {}

Real
Diffusion::computeQpResidual()
{
  return _grad_u[_qp] * _grad_test[_i][_qp];
}

Real
Diffusion::computeQpJacobian()
{
  return _grad_phi[_j][_qp] * _grad_test[_i][_qp];
}</code></pre><a data-position="top" href="#746d21d8-9d03-427d-af7a-5fd4a3e99bcd" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C">(../moose/framework/src/kernels/Diffusion.C)</a></div></div></div></div></div></div><section data-section-text="Regular   Expression   Match" data-section-level="3" id="c5099e15-25a7-4af0-b2ae-f4e19b03b922"><h3>Regular Expression Match</h3><p>Regular expressions can be utilized to extract specific content from files. <a class="tooltipped" href="#example-listing-re" data-tooltip="#example-listing-re" data-position="top">Example 3</a> uses a regular expression to extract the content of a class method.</p><div id="example-listing-re" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 3: </span><span class="moose-caption-text">Example listing using the "re" setting.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing framework/src/kernels/Diffusion.C
         re=Real\sDiffusion::computeQpResidual.*?^}
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><pre style="max-height:350px;"><code class="language-cpp">Real
Diffusion::computeQpResidual()
{
  return _grad_u[_qp] * _grad_test[_i][_qp];
}</code></pre><a data-position="top" href="#b6f7336d-922d-4baa-8732-f08e69c3679b" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C">(../moose/framework/src/kernels/Diffusion.C)</a></div></div></div></div></div></div></section><section data-section-text="Single   Line   Match" data-section-level="3" id="67f6a4de-a236-4251-b6b1-5a309326aa2c"><h3>Single Line Match</h3><p>It is possible to show a single line of a file by including a snippet that allows the line to be located within the file. If multiple matches occur only the first match will be shown. For example, the call to <code>addClassDescription</code> can be shown by adding the following.</p><div id="example-listing-line" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 4: </span><span class="moose-caption-text">Example for displaying a single line from a file.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing framework/src/kernels/Diffusion.C line=computeQp
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><pre style="max-height:350px;"><code class="language-cpp">Diffusion::computeQpJacobian()</code></pre><a data-position="top" href="#32b4b9aa-ce72-4686-965c-d306f674d034" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C">(../moose/framework/src/kernels/Diffusion.C)</a></div></div></div></div></div></div></section><section data-section-text="Range   Line   Match" data-section-level="3" id="67c2b065-524a-4094-8466-7e3029ba7187"><h3>Range Line Match</h3><p>Code starting and ending on lines containing a string is also possible by using the 'start' and 'end' options. If 'start' is omitted then the snippet will start at the beginning of the file. Similarly, if 'end' is omitted the snippet will include the remainder of the file content.</p><div id="example-listing-start-end" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 5: </span><span class="moose-caption-text">Example listing using the "start" and "end" settings.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing moose/test/tests/kernels/simple_diffusion/simple_diffusion.i
         start=Kernels
         end=Executioner
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><pre style="max-height:350px;"><code class="language-text">[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]</code></pre><a data-position="top" href="#d9d15224-730c-4520-9d5e-d18e7a9e1e6d" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/test/tests/kernels/simple_diffusion/simple_diffusion.i">(../moose/test/tests/kernels/simple_diffusion/simple_diffusion.i)</a></div></div></div></div></div></div></section></section><section class="scrollspy" data-section-text="Input   File   Content" data-section-level="2" id="c40bcaa5-e756-46f6-94ac-9584ada85df8"><h2 id="moose-input">Input File Content</h2><p>Like for C++ files, <a class="tooltipped" href="http://www.mooseframework.org" data-tooltip="http://www.mooseframework.org" data-position="top">MOOSE</a> input files also have additional capability, mainly the "block" setting (see <a class="tooltipped" href="#example-listing-input" data-tooltip="#example-listing-input" data-position="top">Example 6</a> for a complete list). Including the block name the included content will be limited to the content matching the supplied name. Notice that the supplied name may be approximate; however, if it is not unique only the first match will appear.</p><div id="example-listing-input" class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Example 6: </span><span class="moose-caption-text">Example use of "block" setting for input files.</span></p><div class="row card-content"><div class="moose-example-code col s12 m12 l12"><pre><code class="language-text">!listing moose/test/tests/kernels/simple_diffusion/simple_diffusion.i
         block=Kernels
         id=input
         caption=Code listing of [MOOSE] input file block.
</code></pre></div><div class="moose-example-rendered col s12 m12 l12"><div class="card"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 2: </span><span class="moose-caption-text">Code listing of <a class="tooltipped" href="http://www.mooseframework.org" data-tooltip="http://www.mooseframework.org" data-position="top">MOOSE</a> input file block.</span></p><pre style="max-height:350px;"><code class="language-text">
[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]</code></pre><a data-position="top" href="#99dafb6e-8d65-4d7b-bb5e-da5fabf81325" class="tooltipped modal-trigger" data-tooltip="/Users/gre462/Documents/MOOSE/projects/moose/test/tests/kernels/simple_diffusion/simple_diffusion.i">(../moose/test/tests/kernels/simple_diffusion/simple_diffusion.i)</a></div></div></div></div></div></div><div class="card"><div class="card-content"><div class="moose-table-div"><table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>strip-header</td><td>True</td><td>When True the MOOSE header is removed for display.</td></tr><tr><td>strip-extra-newlines</td><td>True</td><td>Removes extraneous new lines from the text.</td></tr><tr><td>re-flags</td><td>re.M|re.S|re.U</td><td>Python re flags.</td></tr><tr><td>strip-leading-whitespace</td><td>False</td><td>When True leading white-space is removed from the included text.</td></tr><tr><td>max-height</td><td>350px</td><td>The default height for listing content.</td></tr><tr><td>header</td><td>None</td><td>Text to include prior to the included text.</td></tr><tr><td>prefix</td><td>None</td><td>Text to include prior to the included text.</td></tr><tr><td>include-end</td><td>False</td><td>When True the texted captured by the 'end' setting is included in the displayed text.</td></tr><tr><td>id</td><td></td><td>The class settings to be passed to the rendered tag.</td></tr><tr><td>style</td><td></td><td>The style settings that are passed to rendered HTML tag.</td></tr><tr><td>end</td><td>None</td><td>A portion of text that unique identifies the ending location for including text, if not provided the end of the file is used. By default this line is not included in the display.</td></tr><tr><td>re</td><td>False</td><td>Extract content via a regex, if the 'content' group exists it is used as the desired content, otherwise group 0 is used.</td></tr><tr><td>start</td><td>None</td><td>A portion of text that unique identifies the starting location for including text, if not provided the beginning of the file is utilized.</td></tr><tr><td>include-start</td><td>True</td><td>When False the texted captured by the 'start' setting is excluded in the displayed text.</td></tr><tr><td>link</td><td>True</td><td>Include a link to the filename after the listing.</td></tr><tr><td>line</td><td>None</td><td>A portion of text that unique identifies a single line to include.</td></tr><tr><td>class</td><td></td><td>The class settings to be passed to rendered HTML tag.</td></tr><tr><td>indent</td><td>0</td><td>The level of indenting to apply to the included text.</td></tr><tr><td>language</td><td>None</td><td>The language to use for highlighting, if not supplied it will be inferred from the extension (if possible).</td></tr><tr><td>footer</td><td></td><td>Text to include after to the included text.</td></tr><tr><td>caption</td><td>None</td><td>The caption to use for the listing content.</td></tr><tr><td>block</td><td>None</td><td>Space separated list of input file block names to include.</td></tr></tbody></table></div></div></div></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a data-delay="1000" data-position="left" href="#75f34774-8389-4fd1-bcce-3ac89ff47cf6" class="tooltipped" data-tooltip="Local   Listing   Content">Local   Listing   Content</a></li><li><a data-delay="1000" data-position="left" href="#66d21548-c557-47d2-9a19-b5ec337ff200" class="tooltipped" data-tooltip="File   Content">File   Content</a></li><li><a data-delay="1000" data-position="left" href="#c40bcaa5-e756-46f6-94ac-9584ada85df8" class="tooltipped" data-tooltip="Input   File   Content">Input   File   Content</a></li></ul></div></div></div></div></main></div><div id="746d21d8-9d03-427d-af7a-5fd4a3e99bcd" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C</h4><pre><code class="language-cpp">// This file is part of the MOOSE framework
// https://www.mooseframework.org
//
// All rights reserved, see COPYRIGHT for full restrictions
// https://github.com/idaholab/moose/blob/master/COPYRIGHT
//
// Licensed under LGPL 2.1, please see LICENSE for details
// https://www.gnu.org/licenses/lgpl-2.1.html

#include &quot;Diffusion.h&quot;

registerMooseObject(&quot;MooseApp&quot;, Diffusion);

template &lt;&gt;
InputParameters
validParams&lt;Diffusion&gt;()
{
  InputParameters params = validParams&lt;Kernel&gt;();
  params.addClassDescription(&quot;The Laplacian operator ($-\\nabla \\cdot \\nabla u$), with the weak &quot;
                             &quot;form of $(\\nabla \\phi_i, \\nabla u_h)$.&quot;);
  return params;
}

Diffusion::Diffusion(const InputParameters &amp; parameters) : Kernel(parameters) {}

Real
Diffusion::computeQpResidual()
{
  return _grad_u[_qp] * _grad_test[_i][_qp];
}

Real
Diffusion::computeQpJacobian()
{
  return _grad_phi[_j][_qp] * _grad_test[_i][_qp];
}
</code></pre></div></div><div id="b6f7336d-922d-4baa-8732-f08e69c3679b" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C</h4><pre><code class="language-cpp">// This file is part of the MOOSE framework
// https://www.mooseframework.org
//
// All rights reserved, see COPYRIGHT for full restrictions
// https://github.com/idaholab/moose/blob/master/COPYRIGHT
//
// Licensed under LGPL 2.1, please see LICENSE for details
// https://www.gnu.org/licenses/lgpl-2.1.html

#include &quot;Diffusion.h&quot;

registerMooseObject(&quot;MooseApp&quot;, Diffusion);

template &lt;&gt;
InputParameters
validParams&lt;Diffusion&gt;()
{
  InputParameters params = validParams&lt;Kernel&gt;();
  params.addClassDescription(&quot;The Laplacian operator ($-\\nabla \\cdot \\nabla u$), with the weak &quot;
                             &quot;form of $(\\nabla \\phi_i, \\nabla u_h)$.&quot;);
  return params;
}

Diffusion::Diffusion(const InputParameters &amp; parameters) : Kernel(parameters) {}

Real
Diffusion::computeQpResidual()
{
  return _grad_u[_qp] * _grad_test[_i][_qp];
}

Real
Diffusion::computeQpJacobian()
{
  return _grad_phi[_j][_qp] * _grad_test[_i][_qp];
}
</code></pre></div></div><div id="32b4b9aa-ce72-4686-965c-d306f674d034" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/framework/src/kernels/Diffusion.C</h4><pre><code class="language-cpp">// This file is part of the MOOSE framework
// https://www.mooseframework.org
//
// All rights reserved, see COPYRIGHT for full restrictions
// https://github.com/idaholab/moose/blob/master/COPYRIGHT
//
// Licensed under LGPL 2.1, please see LICENSE for details
// https://www.gnu.org/licenses/lgpl-2.1.html

#include &quot;Diffusion.h&quot;

registerMooseObject(&quot;MooseApp&quot;, Diffusion);

template &lt;&gt;
InputParameters
validParams&lt;Diffusion&gt;()
{
  InputParameters params = validParams&lt;Kernel&gt;();
  params.addClassDescription(&quot;The Laplacian operator ($-\\nabla \\cdot \\nabla u$), with the weak &quot;
                             &quot;form of $(\\nabla \\phi_i, \\nabla u_h)$.&quot;);
  return params;
}

Diffusion::Diffusion(const InputParameters &amp; parameters) : Kernel(parameters) {}

Real
Diffusion::computeQpResidual()
{
  return _grad_u[_qp] * _grad_test[_i][_qp];
}

Real
Diffusion::computeQpJacobian()
{
  return _grad_phi[_j][_qp] * _grad_test[_i][_qp];
}
</code></pre></div></div><div id="d9d15224-730c-4520-9d5e-d18e7a9e1e6d" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/test/tests/kernels/simple_diffusion/simple_diffusion.i</h4><pre><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = 'PJFNK'
  petsc_options_iname = '-pc_type -pc_hypre_type'
  petsc_options_value = 'hypre boomeramg'
[]

[Outputs]
  exodus = true
[]
</code></pre></div></div><div id="99dafb6e-8d65-4d7b-bb5e-da5fabf81325" class="modal bottom-sheet"><div class="modal-content"><h4>/Users/gre462/Documents/MOOSE/projects/moose/test/tests/kernels/simple_diffusion/simple_diffusion.i</h4><pre><code class="language-text">[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 10
  ny = 10
[]

[Variables]
  [./u]
  [../]
[]

[Kernels]
  [./diff]
    type = Diffusion
    variable = u
  [../]
[]

[BCs]
  [./left]
    type = DirichletBC
    variable = u
    boundary = left
    value = 0
  [../]
  [./right]
    type = DirichletBC
    variable = u
    boundary = right
    value = 1
  [../]
[]

[Executioner]
  type = Steady
  solve_type = 'PJFNK'
  petsc_options_iname = '-pc_type -pc_hypre_type'
  petsc_options_value = 'hypre boomeramg'
[]

[Outputs]
  exodus = true
[]
</code></pre></div></div></body></html>